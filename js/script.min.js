"use strict";function ibg(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}ibg(),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const iconMenu=document.querySelector(".icon-menu"),menuBody=document.querySelector(".menu__body");function transitionEnd(e){e.addEventListener("transitionend",(function(){e.classList.remove("_transition")}))}iconMenu&&iconMenu.addEventListener("click",(function(){iconMenu.classList.add("_transition"),iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active"),document.body.classList.toggle("_lock"),transitionEnd(iconMenu)}));const menuMedia=window.matchMedia("(max-width: 1068px) and (min-width: 767.98px)");document.addEventListener("click",(function(e){const t=e.target;document.querySelector(".icon-menu._active")&&!t.closest(".menu")&&(iconMenu.classList.add("_transition"),iconMenu.classList.remove("_active"),menuBody.classList.remove("_active"),document.body.classList.remove("_lock"),transitionEnd(iconMenu))}));const menuLinks=document.querySelectorAll(".menu__link[data-goto]");let view=10;function viewValue(e){e.matches&&(view=4)}const heightMedia=window.matchMedia("(max-height: 520px)");if(heightMedia.addListener(viewValue),viewValue(heightMedia),menuLinks.length>0)for(let e=0;e<menuLinks.length;e++){menuLinks[e].addEventListener("click",(function(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){let n=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector(".header").offsetHeight-document.documentElement.clientHeight/view;iconMenu.classList.contains("_active")&&!menuMedia.matches&&(iconMenu.classList.add("_transition"),iconMenu.classList.remove("_active"),menuBody.classList.remove("_active"),document.body.classList.remove("_lock"),transitionEnd(iconMenu)),window.scrollTo({top:n,behavior:"smooth"}),e.preventDefault()}}))}const blocks=document.querySelectorAll(".block"),scrollLinks=document.querySelectorAll(".menu__link[data-scroll]");function scrollColor(){let e;for(let t=0;t<blocks.length;t++){const n=blocks[t];let o=n.getBoundingClientRect().top+pageYOffset-(document.querySelector(".header").offsetHeight+document.documentElement.clientHeight/(view-.2));pageYOffset>=o&&(e=n.getAttribute("id"))}for(let t=0;t<scrollLinks.length;t++){const n=scrollLinks[t];n.classList.remove("opened"),n.dataset.scroll==e&&n.classList.add("opened")}}window.addEventListener("scroll",scrollColor),scrollColor();